<!DOCTYPE html>  <head>    <title></title>    <meta charset="utf-8" />  </head>  <style type="text/css">    html, body {      margin: 0;      padding: 0;      width: 100%;      height: 100%;    }    ul {      line-style: none;    }    .g-container {      height:600px;      width: 800px;      background-color:#333333;    }    .u-ball, .g-ball, .p-ball{      width:30px;      height:30px;      left: 50px;      top: 0px;      position: fixed;      border-radius:50%;      background:-webkit-radial-gradient(center center,circle,#fff,blue);      /*box-shadow:3px 7px 8px #ccc; */    }    .g-ball {      left: 130px;    }    .p-ball {      left: 210px;    }  </style>  <body>  	<div class="g-container">  		<div class="u-ball"></div>  		<div class="g-ball"></div>  		<div class="p-ball"></div>  	</div>  	<div class="p-container">  		<div class="rp-ball"></div>  	</div>  	<div class="rg-container">  		<div class="rg-ball"></div>  	</div>  	<div class="rgp-container">  		<div class="rgp-ball"></div>  	</div>  	<script type="text/javascript">  	    // 应用到的公式： v=g*t h=g*t*t/2 g=9.8;	    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;	    function setuBall() {	      var ballY = document.querySelector('.u-ball').offsetTop;	      if (ballY < 600 - 30) {	      	document.querySelector('.u-ball').style.top = ballY + 1 + 'px';	      	requestAnimationFrame(setuBall);	      }	    }	    var eleY = 0;	    var timeT = 0;	    var timePast = + new Date();	    var g = 9.8;	    var V = 0;	    function setgBall() {	    	timeT = timeT + ((+ new Date()) - timePast) / 1000;	    	eleY = timeT * (+ new Date() - timePast) / 1000 * g / 2; // eleY + 0.98;	    	var ball = document.querySelector('.g-ball'),	    	    ballY = ball.offsetTop,	    	    ballX = ball.offsetLeft;	    	if (ballY < 600 - 30) {	    		eleY = ballY + eleY > 600 -30 ? 600 -30 - ballY : eleY;	    		ball.style.top = ballY + eleY + 'px';	    		requestAnimationFrame(setgBall);	    	} else {	    		V = g * timeT;	    		// g = g--;	    		timeT = 0;	    		timePast = + new Date();	    		requestAnimationFrame(setrgBall);	    	}	    }	    function setrgBall() {	    	var ball = document.querySelector('.g-ball'),	    	    ballY = ball.offsetTop,	    	    ballX = ball.offsetLeft;	    	timeT = timeT + ((+ new Date()) - timePast) / 1000;	    	V = V - g * timeT;	    	eleY = V * (+ new Date() - timePast) / 1000 / 2;	    	// eleY = timeT * (+ new Date() - timePast) / 1000 * g / 2;	    	if (V <= 0) {	    		if (ballY - eleY + 30 < 600) {		    		timePast = + new Date();	    		    requestAnimationFrame(setgBall);	    		} else {	    			return;	    		}	    	} else {	    		ball.style.top = ballY - eleY + 'px';	    		requestAnimationFrame(setrgBall);	    	}	    }      var peleY = 0,        ptimeT = 0,        ptimePast = + new Date(),        pg = 9.8,        pxV = 3;        pV = 0;	    function setpBall() {	    	ptimeT = ptimeT + ((+ new Date()) - ptimePast) / 1000;	    	peleY = ptimeT * pg * (+ new Date() - ptimePast) / 1000 / 2; // eleY + 0.98;	    	var ball = document.querySelector('.p-ball'),	    	    ballY = ball.offsetTop,	    	    ballX = ball.offsetLeft;	    	if (ballY < 600 - 30) {	    		peleY = ballY + peleY > 600 -30 ? 600 -30 - ballY : peleY;	    		ball.style.top = ballY + peleY + 'px';	    		ball.style.left = ballX + pxV + 'px';	    		requestAnimationFrame(setpBall);	    	} else {	    		pV = pg * ptimeT;	    		// pxV = pxV - 0.25;	    		// pg = pg;	    		ptimeT = 0;	    		ptimePast = + new Date();	    		requestAnimationFrame(setrpBall);	    	}	    }	    function setrpBall() {	    	var ball = document.querySelector('.p-ball'),	    	    ballY = ball.offsetTop,	    	    ballX = ball.offsetLeft;	    	ptimeT = ptimeT + ((+ new Date()) - ptimePast) / 1000;	    	pV = pV - pg * ptimeT;	    	peleY = pV * (+ new Date() - ptimePast) / 1000 / 2;	    	// eleY = timeT * (+ new Date() - timePast) / 1000 * g / 2;	    	if (pV <= 0) {	    		if (ballY - peleY + 30 < 600) {		    		ptimePast = + new Date();	    		    requestAnimationFrame(setpBall);	    		} else {	    			requestAnimationFrame(dball);	    		}	    	} else {	    		ball.style.top = ballY - peleY + 'px';	    		ball.style.left = ballX + pxV + 'px';	    		requestAnimationFrame(setrpBall);	    	}	    }	    function dball() {	    	pxV = pxV -0.01;	    	if (pxV > 0) {	    		requestAnimationFrame(dball);	    	}	    }      requestAnimationFrame(setuBall);	    requestAnimationFrame(setgBall);	    requestAnimationFrame(setpBall);	</script>  </body></html>